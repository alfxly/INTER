<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Perfil de Usuario</title>
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;600&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="CSS/Perfil.css">
</head>

<body>
    <header>
        <div class="logo">
          <img src="IMG/logo.png" alt="Logo Claw Guardians">
        </div>
        <nav>
          <ul>
            <li><a href="#">Inicio</a></li>
            <li class="dropdown">
              <a href="#">Empleados</a>
              <ul class="dropdown-content">
                <li><a href="RegistrarEmpleado.html">Registrar Empleado</a></li>
                <li><a href="Empleados.html">Modificar Empleados</a></li>
              </ul>
            </li>
            <li class="dropdown">
              <a href="#">Productos</a>
              <ul class="dropdown-content">
                <li><a href="RegistraProducto.html">Registrar Producto</a></li>
                <li><a href="Productos.html">Modificar Productos</a></li>
              </ul>
            </li>
            <li class="dropdown">
              <a href="Solicitud.html">Servicios</a>
            </li>
          </ul>
        </nav>
        <div class="perfil">
          <a href="Perfil.html">
            <img src="IMG/perfil.png" alt="Icono de perfil" class="user-icon">
          </a>
      </div>
      </header>

    <main>
        <section class="profile-info">
            <h2>Información del perfil</h2>
            <div class="profile-photo">
                <img id="profilePreview" src="#" alt="Foto de perfil" style="display: none;">
                <button onclick="document.getElementById('profileImage').click()">Subir foto</button>
                <input type="file" id="profileImage" accept=".jpg, .png" style="display:none" onchange="validateImage()">
            </div>

            <form>
                <label for="nombre">Nombre:</label>
                <input type="text" id="nombre">

                <label for="celular">Celular:</label>
                <input type="text" id="celular">

                <label for="correo">Correo:</label>
                <input type="email" id="correo">

                <label for="direccion">Dirección:</label>
                <input type="text" id="direccion">

                <button type="button" onclick="openUpdateModal()">Actualizar Información</button>
            </form>
        </section>
    </main>

    <footer>
        <div class="enlaces">
          <h3>Enlaces de página</h3>
          <ul>
              <li><a href="IndexAdmin.html">Inicio</a></li>
              <li><a href="Empleados.html">Empleados</a></li>
              <li><a href="Productos.html">Productos</a></li>
              <li><a href="Solicitud.html">Servicios</a></li>
              <li><a href="Perfil.html">Perfil</a></li>
          </ul>
      </div>
        <div class="informacion">
            <h3>Información</h3>
            <ul>
                <li><a href="#">Políticas de privacidad</a></li>
                <li><a href="#">Términos y Condiciones</a></li>
            </ul>
        </div>
        <div class="contacto">
            <h3>Contáctanos</h3>
            <ul>
                <li><a href="#"><i class="icon-whatsapp"><img src="IMG/whatsapp.png" alt="Icono de perfil"></i></a></li>
                <li><a href="#"><i class="icon-instagram"><img src="IMG/instagram.png" alt="Icono de perfil"></i></a></li>
                <li><a href="#"><i class="icon-maps"><img src="IMG/marcador.png" alt="Icono de perfil"></i></a></li>
            </ul>
        </div>
    </footer>


<div id="updateModal" class="modal">
    <div class="modal-content">
        <h2>Actualizar Información</h2>
        <form id="updateForm">
            <label for="newNombre">Nuevo Nombre:</label>
            <input type="text" id="newNombre" value="">

            <label for="newCelular">Nuevo Celular:</label>
            <input type="text" id="newCelular" value="">

            <label for="newCorreo">Nuevo Correo:</label>
            <input type="email" id="newCorreo" value="">

            <label for="newDireccion">Nueva Dirección:</label>
            <input type="text" id="newDireccion" value="">


            <div class="button-container">
                <button type="button" class="cancel-btn" onclick="closeUpdateModal()">Cancelar</button>
                <button type="button" class="save-btn" onclick="saveUpdate()">Guardar</button>
            </div>
        </form>
    </div>
</div>

    <div id="successAlert" class="modal">
        <div class="modal-content">
            <h2>¡Actualización Exitosa!</h2>
            <p>La información ha sido actualizada correctamente.</p>
            <button onclick="closeSuccessAlert()">Cerrar</button>
        </div>
    </div>

    <script>
        function validateImage() {
            const fileInput = document.getElementById('profileImage');
            const filePath = fileInput.value;
            const allowedExtensions = /(\.jpg|\.jpeg|\.png)$/i;
            if (!allowedExtensions.exec(filePath)) {
                alert('Solo se permiten archivos JPG o PNG');
                fileInput.value = '';
                return false;
            } else {
                const reader = new FileReader();
                reader.onload = function (e) {
                    document.getElementById('profilePreview').style.display = 'block';
                    document.getElementById('profilePreview').src = e.target.result;
                };
                reader.readAsDataURL(fileInput.files[0]);
            }
        }

        function openUpdateModal() {
            document.getElementById('updateModal').style.display = 'block';
        }

        function closeUpdateModal() {
            document.getElementById('updateModal').style.display = 'none';
        }

        function saveUpdate() {
            closeUpdateModal();
            document.getElementById('successAlert').style.display = 'block';
        }

        function closeSuccessAlert() {
            document.getElementById('successAlert').style.display = 'none';
        }
    </script>
</body>
</html>

